/*globals angular */
angular.module("lolApi",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","ngAudio","pascalprecht.translate"]),angular.module("lolApi").config(["$stateProvider","$urlRouterProvider",function(s,e){"use strict";s.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"}),s.state("sandbox",{url:"/sandbox",templateUrl:"app/sandbox/sandbox.html",controller:"sandboxController"}),e.otherwise("/")}]),angular.module("lolApi").service("trafficInstrumentService",["$timeout","ngAudio","instrumentService",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(e.load("assets/sounds/traffic/1.mp3")),this.sample.push(e.load("assets/sounds/traffic/2.mp3")),this.sample.push(e.load("assets/sounds/traffic/3.mp3")),this.sample.push(e.load("assets/sounds/traffic/4.mp3")),this.sample.push(e.load("assets/sounds/traffic/5.mp3")),this.sample.push(e.load("assets/sounds/traffic/6.mp3")),this.sample.push(e.load("assets/sounds/traffic/7.mp3")),this.sample.push(e.load("assets/sounds/traffic/8.mp3")),this.sample.push(e.load("assets/sounds/traffic/9.mp3")),this.sample.push(e.load("assets/sounds/traffic/10.mp3")),this.sample.push(e.load("assets/sounds/traffic/11.mp3")),this.sample.push(e.load("assets/sounds/traffic/12.mp3")),this.sample.push(e.load("assets/sounds/traffic/13.mp3")),this.sample.push(e.load("assets/sounds/traffic/14.mp3")),this.sample.push(e.load("assets/sounds/traffic/15.mp3")),this.sample.push(e.load("assets/sounds/traffic/16.mp3")),this.sample.push(e.load("assets/sounds/traffic/17.mp3")),this.sample.push(e.load("assets/sounds/traffic/18.mp3")),this.sample.push(e.load("assets/sounds/traffic/19.mp3")),this.sample.push(e.load("assets/sounds/traffic/20.mp3")),this.sample.push(e.load("assets/sounds/traffic/21.mp3")),this.getRandomSample=function(){return t.getRandomSample(a.sample)},this.playRandomSample=function(){var e;a.locked!==!0&&(e=a.getRandomSample(),e.play(),a.locked=!0,s(function(){a.locked=!1},e.remaining))},this.changeVolume=function(s){t.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("soundFxInstrumentService",["ngAudio","instrumentService",function(s){"use strict";this.wind=s.load("assets/sounds/fx/wind.mp3"),this.cityWinds=s.load("assets/sounds/fx/citywinds.mp3"),this.changeVolume=function(){}}]),angular.module("lolApi").service("leavesInstrumentService",["$timeout","ngAudio","instrumentService",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(e.load("assets/sounds/leaves/1.mp3")),this.sample.push(e.load("assets/sounds/leaves/2.mp3")),this.sample.push(e.load("assets/sounds/leaves/3.mp3")),this.sample.push(e.load("assets/sounds/leaves/4.mp3")),this.sample.push(e.load("assets/sounds/leaves/5.mp3")),this.sample.push(e.load("assets/sounds/leaves/6.mp3")),this.sample.push(e.load("assets/sounds/leaves/7.mp3")),this.sample.push(e.load("assets/sounds/leaves/8.mp3")),this.sample.push(e.load("assets/sounds/leaves/9.mp3")),this.sample.push(e.load("assets/sounds/leaves/10.mp3")),this.sample.push(e.load("assets/sounds/leaves/11.mp3")),this.sample.push(e.load("assets/sounds/leaves/12.mp3")),this.sample.push(e.load("assets/sounds/leaves/13.mp3")),this.sample.push(e.load("assets/sounds/leaves/14.mp3")),this.sample.push(e.load("assets/sounds/leaves/15.mp3")),this.sample.push(e.load("assets/sounds/leaves/16.mp3")),this.sample.push(e.load("assets/sounds/leaves/17.mp3")),this.sample.push(e.load("assets/sounds/leaves/18.mp3")),this.getRandomSample=function(){return t.getRandomSample(a.sample)},this.playRandomSample=function(){var s;s=a.getRandomSample(),s.play()},this.changeVolume=function(s){t.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("instrumentService",function(){"use strict";this.changeVolume=function(s,e){if(e>1)throw"Invalid volume. Must be between 0 and 1";var t;for(t=0;t<s.length;t+=1)s[t].volume=e},this.getRandomSample=function(s){var e=Math.floor(Math.random()*(s.length-1));return s[e]},this.createVolumeCurveFunction=function(s,e,t){var a,o,n;return angular.isDefined(t)||(t=1),a=s-e,o=t/a,n=-o*e,function(s){var e=o*s+n;return 0>e&&(e=0),e>t&&(e=t),e}}}),angular.module("lolApi").service("harpInstrumentService",["ngAudio","instrumentService",function(s,e){"use strict";var t=this;this.sample=[],this.sample.push(s.load("assets/sounds/harp/1.mp3")),this.sample.push(s.load("assets/sounds/harp/2.mp3")),this.sample.push(s.load("assets/sounds/harp/3.mp3")),this.sample.push(s.load("assets/sounds/harp/4.mp3")),this.sample.push(s.load("assets/sounds/harp/5.mp3")),this.sample.push(s.load("assets/sounds/harp/6.mp3")),this.getRandomSample=function(){return e.getRandomSample(t.sample)},this.playRandomSample=function(){var s;s=t.getRandomSample(),s.play()},this.changeVolume=function(s){e.changeVolume(t.sample,s)}}]),angular.module("lolApi").service("footstepsInstrumentService",["$timeout","ngAudio","instrumentService",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(e.load("assets/sounds/footsteps/1.mp3")),this.sample.push(e.load("assets/sounds/footsteps/2.mp3")),this.sample.push(e.load("assets/sounds/footsteps/3.mp3")),this.sample.push(e.load("assets/sounds/footsteps/4.mp3")),this.sample.push(e.load("assets/sounds/footsteps/5.mp3")),this.sample.push(e.load("assets/sounds/footsteps/6.mp3")),this.sample.push(e.load("assets/sounds/footsteps/7.mp3")),this.sample.push(e.load("assets/sounds/footsteps/8.mp3")),this.sample.push(e.load("assets/sounds/footsteps/9.mp3")),this.sample.push(e.load("assets/sounds/footsteps/10.mp3")),this.sample.push(e.load("assets/sounds/footsteps/11.mp3")),this.sample.push(e.load("assets/sounds/footsteps/12.mp3")),this.sample.push(e.load("assets/sounds/footsteps/13.mp3")),this.sample.push(e.load("assets/sounds/footsteps/14.mp3")),this.sample.push(e.load("assets/sounds/footsteps/15.mp3")),this.sample.push(e.load("assets/sounds/footsteps/16.mp3")),this.sample.push(e.load("assets/sounds/footsteps/17.mp3")),this.sample.push(e.load("assets/sounds/footsteps/18.mp3")),this.sample.push(e.load("assets/sounds/footsteps/19.mp3")),this.sample.push(e.load("assets/sounds/footsteps/20.mp3")),this.sample.push(e.load("assets/sounds/footsteps/21.mp3")),this.sample.push(e.load("assets/sounds/footsteps/22.mp3")),this.sample.push(e.load("assets/sounds/footsteps/23.mp3")),this.sample.push(e.load("assets/sounds/footsteps/24.mp3")),this.sample.push(e.load("assets/sounds/footsteps/25.mp3")),this.sample.push(e.load("assets/sounds/footsteps/26.mp3")),this.sample.push(e.load("assets/sounds/footsteps/27.mp3")),this.sample.push(e.load("assets/sounds/footsteps/28.mp3")),this.sample.push(e.load("assets/sounds/footsteps/29.mp3")),this.sample.push(e.load("assets/sounds/footsteps/30.mp3")),this.sample.push(e.load("assets/sounds/footsteps/31.mp3")),this.sample.push(e.load("assets/sounds/footsteps/32.mp3")),this.sample.push(e.load("assets/sounds/footsteps/33.mp3")),this.sample.push(e.load("assets/sounds/footsteps/34.mp3")),this.sample.push(e.load("assets/sounds/footsteps/35.mp3")),this.sample.push(e.load("assets/sounds/footsteps/36.mp3")),this.sample.push(e.load("assets/sounds/footsteps/37.mp3")),this.sample.push(e.load("assets/sounds/footsteps/38.mp3")),this.sample.push(e.load("assets/sounds/footsteps/39.mp3")),this.sample.push(e.load("assets/sounds/footsteps/40.mp3")),this.sample.push(e.load("assets/sounds/footsteps/41.mp3")),this.sample.push(e.load("assets/sounds/footsteps/42.mp3")),this.sample.push(e.load("assets/sounds/footsteps/43.mp3")),this.sample.push(e.load("assets/sounds/footsteps/44.mp3")),this.sample.push(e.load("assets/sounds/footsteps/45.mp3")),this.getRandomSample=function(){return t.getRandomSample(a.sample)},this.playRandomSample=function(){var s;s=a.getRandomSample(),s.play()},this.changeVolume=function(s){t.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("constructionInstrumentService",["$timeout","instrumentService","ngAudio",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(t.load("assets/sounds/construction/1.mp3")),this.sample.push(t.load("assets/sounds/construction/2.mp3")),this.sample.push(t.load("assets/sounds/construction/3.mp3")),this.sample.push(t.load("assets/sounds/construction/4.mp3")),this.sample.push(t.load("assets/sounds/construction/5.mp3")),this.sample.push(t.load("assets/sounds/construction/6.mp3")),this.sample.push(t.load("assets/sounds/construction/7.mp3")),this.sample.push(t.load("assets/sounds/construction/8.mp3")),this.sample.push(t.load("assets/sounds/construction/9.mp3")),this.sample.push(t.load("assets/sounds/construction/10.mp3")),this.sample.push(t.load("assets/sounds/construction/11.mp3")),this.sample.push(t.load("assets/sounds/construction/12.mp3")),this.sample.push(t.load("assets/sounds/construction/13.mp3")),this.sample.push(t.load("assets/sounds/construction/14.mp3")),this.sample.push(t.load("assets/sounds/construction/15.mp3")),this.sample.push(t.load("assets/sounds/construction/16.mp3")),this.sample.push(t.load("assets/sounds/construction/17.mp3")),this.sample.push(t.load("assets/sounds/construction/18.mp3")),this.sample.push(t.load("assets/sounds/construction/19.mp3")),this.sample.push(t.load("assets/sounds/construction/20.mp3")),this.getRandomSample=function(){return e.getRandomSample(a.sample)},this.playRandomSample=function(){var e;a.locked!==!0&&(e=a.getRandomSample(),e.play(),a.locked=!0,s(function(){a.locked=!1},e.remaining))},this.changeVolume=function(s){e.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("chimesInstrumentService",["ngAudio","instrumentService",function(s,e){"use strict";var t=this;this.sample=[],this.sample.push(s.load("assets/sounds/chimes/1.mp3")),this.sample.push(s.load("assets/sounds/chimes/2.mp3")),this.sample.push(s.load("assets/sounds/chimes/3.mp3")),this.sample.push(s.load("assets/sounds/chimes/4.mp3")),this.sample.push(s.load("assets/sounds/chimes/5.mp3")),this.sample.push(s.load("assets/sounds/chimes/6.mp3")),this.sample.push(s.load("assets/sounds/chimes/7.mp3")),this.sample.push(s.load("assets/sounds/chimes/8.mp3")),this.sample.push(s.load("assets/sounds/chimes/9.mp3")),this.sample.push(s.load("assets/sounds/chimes/10.mp3")),this.sample.push(s.load("assets/sounds/chimes/11.mp3")),this.sample.push(s.load("assets/sounds/chimes/12.mp3")),this.getRandomSample=function(){return e.getRandomSample(t.sample)},this.playRandomSample=function(){var s;s=t.getRandomSample(),s.play()},this.changeVolume=function(s){e.changeVolume(t.sample,s)}}]),angular.module("lolApi").service("birdBgInstrumentService",["$timeout","ngAudio","instrumentService",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(e.load("assets/sounds/birds/soft/1.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/2.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/3.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/4.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/5.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/6.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/7.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/8.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/9.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/10.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/11.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/12.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/13.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/14.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/15.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/16.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/17.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/18.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/19.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/20.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/21.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/22.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/23.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/24.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/25.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/26.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/27.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/28.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/29.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/30.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/31.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/32.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/33.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/34.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/35.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/36.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/37.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/38.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/39.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/40.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/41.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/42.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/43.mp3")),this.sample.push(e.load("assets/sounds/birds/soft/44.mp3")),this.getRandomSample=function(){return t.getRandomSample(a.sample)},this.playRandomSample=function(){var e;a.locked!==!0&&(e=a.getRandomSample(),e.play(),a.locked=!0,s(function(){a.locked=!1},e.remaining))},this.changeVolume=function(s){t.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("birdInstrumentService",["$timeout","instrumentService","ngAudio",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(t.load("assets/sounds/birds/loud/1.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/2.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/3.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/4.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/5.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/6.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/7.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/8.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/9.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/10.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/11.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/12.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/13.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/14.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/15.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/16.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/17.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/18.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/19.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/20.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/21.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/22.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/23.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/24.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/25.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/26.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/27.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/28.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/29.mp3")),this.sample.push(t.load("assets/sounds/birds/loud/30.mp3")),this.getRandomSample=function(){return e.getRandomSample(a.sample)},this.playRandomSample=function(){var e;a.locked!==!0&&(e=a.getRandomSample(),e.play(),a.locked=!0,s(function(){a.locked=!1},e.remaining))},this.changeVolume=function(s){e.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("bellsInstrumentService",["$timeout","instrumentService","ngAudio",function(s,e,t){"use strict";var a=this;this.sample=[],this.sample.push(t.load("assets/sounds/bells/1.mp3")),this.sample.push(t.load("assets/sounds/bells/2.mp3")),this.sample.push(t.load("assets/sounds/bells/3.mp3")),this.getRandomSample=function(){return e.getRandomSample(a.sample)},this.playRandomSample=function(){var e;a.locked!==!0&&(e=a.getRandomSample(),e.play(),a.locked=!0,s(function(){a.locked=!1},e.remaining))},this.changeVolume=function(s){e.changeVolume(a.sample,s)}}]),angular.module("lolApi").service("jsonUtilService",function(){"use strict";this.convertToArray=function(s){return Object.keys(s).map(function(e){return s[e]})}}),angular.module("lolApi").service("arrayUtilService",function(){"use strict";this.caseInsensitiveStringInnerJoin=function(s,e){var t,a,o,n,l=[];if(!angular.isDefined(s)||!angular.isDefined(e))return l;for(t=0;t<s.length;t+=1)for(o=0,n=s[t].toLowerCase(),a=0;a<e.length;a+=1)n===e[a].toLowerCase()&&l.push(e[a]);return l}}),angular.module("lolApi").service("riotUrfService",["$q","urfResource",function(s,e){"use strict";var t=new Date;this.getUrfMatchesWithEpoch=function(t){var a=s.defer();return e.query({beginDate:t},function(s){a.resolve(s)}),a.promise},this.getUrfMatches=function(a,o){var n,l,i,u=s.defer();return l=5*Math.round(o/5),n=new Date(t.getFullYear(),t.getMonth(),t.getDay(),a,l,0,0),i=n.getTime()/1e3,e.query({beginDate:i},function(s){u.resolve(s)}),u.promise}}]),angular.module("lolApi").service("riotMatchService",["$q","matchResource",function(s,e){"use strict";this.getMatchData=function(t){var a=s.defer();return e.get({matchId:t},function(s){a.resolve(s)}),a.promise}}]),angular.module("lolApi").service("matchService",["$q","$timeout","riotMatchService","riotUrfService",function(s,e,t,a){"use strict";this.getMatchData=function(o){var n,l=[],i=[],u=s.defer();return a.getUrfMatchesWithEpoch(o).then(function(a){for(n=0;n<a.length;n+=1)i.push(t.getMatchData(a[n]).then(function(s){l.push(s)}));s.all(i,e(function(){u.resolve(l)},2e3)).then(function(){u.resolve(l)})}),u.promise},this.getTimelineData=function(e){var t,a=[],o=s.defer();return this.getMatchData(e).then(function(s){for(t=0;t<s.length;t+=1)a.push(s[t]);o.resolve(a)}),o.promise}}]),angular.module("lolApi").service("apiService",function(){"use strict";this.getApiKey=function(){return"e511e298-0729-48e1-9f2c-20639de4741a"}}),angular.module("lolApi").service("playerService",["$timeout","birdBgInstrumentService","soundFxInstrumentService","harpInstrumentService","chimesInstrumentService","birdInstrumentService","eventCounterService","trafficInstrumentService","leavesInstrumentService","constructionInstrumentService","bellsInstrumentService","instrumentService",function(s,e,t,a,o,n,l,i,u,p,m,d){"use strict";function r(s){var t=[];switch(s){case"ITEM_PURCHASED":t.push(i);break;case"ITEM_UNDO":t.push(a);break;case"WARD_PLACED":case"WARD_KILL":case"ITEM_DESTROYED":t.push(u);break;case"SKILL_LEVEL_UP":t.push(e),t.push(p);break;case"BUILDING_KILL":case"ITEM_SOLD":case"ELITE_MONSTER_KILL":t.push(m);break;case"CHAMPION_KILL":t.push(n),t.push(i);break;default:t.push(e)}return t}function h(s){var e;for(e=0;e<s.length;e+=1)s[e].playRandomSample()}function c(e){s(function(){var s=r(e.eventType);h(s),angular.isDefined(f)&&f(e)},e.timestamp/5)}var f,v=this,g=d.createVolumeCurveFunction(0,55),b=d.createVolumeCurveFunction(100,45,.5),S=d.createVolumeCurveFunction(0,50,.7),y=d.createVolumeCurveFunction(100,45),A=d.createVolumeCurveFunction(100,70,.8),R=d.createVolumeCurveFunction(0,40,.6),V=d.createVolumeCurveFunction(0,40,.5);this.play=function(s){var e;for(e=0;e<s.length;e+=1)c(s[e]);t.wind.play(),t.wind.loop=!0,t.cityWinds.play(),t.cityWinds.loop=!0,console.log(l.getCounts(s)),v.changeVolume(50)},this.changeVolume=function(s){e.changeVolume(y(s)),n.changeVolume(A(s)),p.changeVolume(R(s)),i.changeVolume(S(s)),m.changeVolume(V(s)),t.wind.volume=b(s),t.cityWinds.volume=g(s),t.wind.play(),t.cityWinds.play()},this.setPlayCallback=function(s){f=s},this.mute=function(){e.changeVolume(0),n.changeVolume(0),o.changeVolume(0),p.changeVolume(0),i.changeVolume(0),m.changeVolume(0),u.changeVolume(0),t.wind.volume=0,t.cityWinds.volume=0}}]),angular.module("lolApi").factory("urfResource",["$resource","apiService",function(s,e){"use strict";return s("https://euw.api.pvp.net/api/lol/euw/v4.1/game/ids?beginDate=:beginDate&api_key="+e.getApiKey())}]),angular.module("lolApi").factory("matchResource",["$resource","apiService",function(s,e){"use strict";return s("https://euw.api.pvp.net/api/lol/euw/v2.2/match/:matchId?includeTimeline=true&api_key="+e.getApiKey())}]),angular.module("lolApi").service("soundPlayerService",["soundFxIntrumentService",function(s){"use strict";this.playSound=function(){s.kick.play()}}]),angular.module("lolApi").service("noteService",function(){"use strict";this.notes=[{pattern:[{value:.5,type:"rest"},{value:.5,type:"note"}]},{pattern:[{value:.25,type:"note"}]}],this.getNoteFromXY=function(s,e){var t=s+e;return t%8}}),angular.module("lolApi").service("noteProcessorService",function(){"use strict";function s(s){var e=60/s;return 4/e}this.extractNotes=function(s,e){var t;t=s.splice(0,e.length),console.log(e.length),console.log(t.length)},this.formatNotes=function(e,t,a){var o,n,l,i=[];for(l=s(a),o=0;o<e.length;o+=1)n={note:e[o],length:t[o].value*l},i.push(n);return i}}),angular.module("lolApi").service("eventSerializerService",["jsonUtilService","noteService",function(s,e){"use strict";this.getEvents=function(s){var e,t=[],a=s.timeline.frames;for(e=1;e<a.length;e+=1)t=t.concat(a[e].events);return t},this.getPlayerData=function(s){var e,t=[],a=s.timeline.frames;for(e=0;e<a.length;e+=1)t.push(a[e].participantFrames);return t},this.getPlayerDataArray=function(e){var t,a,o,n=[],l=e.timeline.frames;for(t=0;t<l.length;t+=1)for(o=s.convertToArray(l[t].participantFrames),a=0;a<o.length;a+=1)n.push(o[a]);return n},this.getNotesFromPlayerDataArray=function(s){var t,a,o,n=[];for(t=0;t<s.length;t+=1)a=s[t].position,angular.isDefined(a)&&(o=e.getNoteFromXY(a.x,a.y),n.push(o));return n}}]),angular.module("lolApi").service("eventCounterService",function(){"use strict";this.getCounts=function(s){var e,t={};for(e=0;e<s.length;e+=1)angular.isDefined(t[s[e].eventType])?t[s[e].eventType]+=1:t[s[e].eventType]=1;return t}}),angular.module("lolApi").service("colourService",function(){"use strict";function s(s){var e=s.toString(16);return 1===e.length?"0"+e:e}function e(e,t,a){return"#"+s(e)+s(t)+s(a)}function t(s,e,t){var a=e-s,o=a*t;return Math.floor(s+o)}this.getColour=function(s){var a=38,o=39,n=60,l=70,i=63,u=9;return e(t(a,l,s),t(o,i,s),t(n,u,s))}}),angular.module("lolApi").controller("NavbarCtrl",["$scope",function(s){s.date=new Date}]),angular.module("lolApi").controller("sandboxController",["$scope","matchService","eventSerializerService","playerService",function(s,e,t,a){"use strict";s.changeVolume=function(){a.changeVolume(s.enviromentMix)},e.getTimelineData(1427995800).then(function(e){s.matchesId=t.getEvents(e[0]),a.play(s.matchesId)})}]),angular.module("lolApi").controller("MainCtrl",["$scope","colourService","matchService","eventSerializerService","playerService",function(s,e,t,a,o){"use strict";s.enviromentMix=50,s.muted=!1,s.getColour=function(s){if(!angular.isDefined(s))return e.getColour(.5);var t=e.getColour(s/100);return t},s.changeVolume=function(){o.changeVolume(s.enviromentMix),s.muted=!1},t.getTimelineData(1427995800).then(function(e){s.matchesId=a.getEvents(e[0]),o.play(s.matchesId)}),o.setPlayCallback(function(){}),s.setMuted=function(e){s.muted=e,e?o.mute():o.changeVolume(s.enviromentMix)}}]),angular.module("lolApi").run(["$templateCache",function(s){s.put("app/main/main.html",'<div style="backdrop-image"><img src="assets/images/backdrops/city.jpg" class="layer1" style="opacity: {{ 1 - enviromentMix / 100 }}"> <img src="assets/images/backdrops/nature.jpg" style="position: absolute; top: 0px; left: 0px; opacity: {{enviromentMix / 100 }}"></div><div class="volume-buttons"><span ng-show="muted" class="glyphicon glyphicon glyphicon-volume-off" aria-hidden="true" ng-click="setMuted(false)"></span> <span ng-hide="muted" class="glyphicon glyphicon glyphicon-volume-up" aria-hidden="true" ng-click="setMuted(true)"></span></div><div class="full-center"><div class="container"><div class="row text-center"><h1 class="main-title" style="text-shadow: 0px -2px 0px #fde37a, 0px 5px 0px {{ getColour(enviromentMix) }}, 0px 0px 15px #454545;">U.R.F Soundscape</h1></div><div class="row"><input type="range" ng-model="enviromentMix" ng-mouseup="changeVolume()"></div><div class="row text-center"><button href="" class="btn btn-lg btn-main" ng-click="">What is this?</button></div></div></div><div class="footer footer-boltdown"><div class="container"><div class="row"><div class="col-lg-3 col-md-3 col-sm-4 text-center"><img src="assets/images/league-logo.png" alt="League of Legends" height="120px"> <img src="assets/images/utensil-logo.png" alt="Powered by URF" height="50px"></div><div class="col-lg-9 col-md-9 col-sm-8 footer-text"><strong>About:</strong><p>The URF soundscape uses data from the Ultra-Rapid-Fire API to continuously generate an endlessly unique soundscape that will go on forever & ever... This has been created as an entry for the Riot API challenge!</p><strong>Made by:</strong> <a href="https://uk.linkedin.com/in/dolan1" target="_blank">Dolan Miu</a> & <a href="https://uk.linkedin.com/pub/kelvin-chan/ab/60b/946" target="_blank">Kelvin Chan</a></div></div></div></div>'),s.put("app/sandbox/sandbox.html",'<input type="range" ng-model="enviromentMix" ng-change="changeVolume()"> {{enviromentMix}}'),s.put("components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse" ng-controller="NavbarCtrl"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/Swiip/generator-gulp-angular"><span class="glyphicon glyphicon-home"></span> Gulp Angular</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li class="active"><a ng-href="#">Home</a></li><li><a ng-href="#">About</a></li><li><a ng-href="#">Contact</a></li></ul><ul class="nav navbar-nav navbar-right"><li>Current date: {{ date | date:\'yyyy-MM-dd\' }}</li></ul></div></div></nav>')}]);